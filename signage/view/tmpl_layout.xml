<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="layout">
    <!-- ## USE hide_header=TRUE WHEN PAGE IS 
         INCLUDED IN A ROTARY TRAY AND HEADER/FOOTER 
         SHALL NOT BE EXECUTED FOR EVERY SINGEL PAGE -->
    <span>
      hide header =
      <t t-esc="hide_header" />
      <t t-esc="signage" />
    </span>
    <t t-if="hide_header">
      <main>
        <t t-raw="0" />
        <span>hello world!!</span>
      </main>
    </t>
    <!-- ## IN ANY OTHER CASE, INCLUDE HEADER / FOOTER -->
    <t t-if="not hide_header">
      <!--
           <t t-call="signage.layout_header_footer" />
      -->
      <t t-call="website.layout">
        <div class="row">
          <div class="col-sm-4" />
          <div class="col-sm-4" style="text-align:center">
            <h3>
              <a href="/signage/" title="Index" alt="Index">
                <i class="fa fa-arrow-circle-left fa-2x" aria-hidden="true" />
              </a>
              Edit Signage Templates
            </h3>
          </div>
          <div class="col-sm-4" />
        </div>
        <t t-raw="0" />
      </t>
    </t>
  </template>
  <!-- // SHORT TEMPLATE, INCOMPLETE -->
  <!-- ## PAGE TEMPLATE, COMPLETE -->
  <template id="layout_header_footer" name="Signage Main layout">
    <t t-call="web.layout">
      <t t-set="html_data" t-value="{
                'lang': lang and lang.replace('_', '-'),
                'data-website-id': website.id if website else None,
                'data-editable': '1' if editable else None,
                'data-translatable': '1' if translatable else None,
                'data-edit_translations': '1' if edit_translations else None,
                'data-view-xmlid': xmlid if editable or translatable else None,
                'data-main-object': repr(main_object) if editable or translatable else None,
                'data-oe-company-name': res_company.name
            }" />
      <!-- ## TITLE -->
      <t t-set="body_classname" t-value="'o_connected_user' if env['ir.ui.view'].user_has_groups('base.group_user') else None" />
      <t t-if="not title">
        <t t-if="not additional_title and main_object and 'name' in main_object">
          <t t-set="additional_title" t-value="main_object.name" />
        </t>
        <t t-if="main_object and 'website_meta_title' in main_object and main_object.website_meta_title">
          <t t-set="title" t-value="main_object.website_meta_title" />
        </t>
        <t t-else="">
          <t t-set="title">
            <t t-if="additional_title">
              <t t-raw="additional_title" />
              |
            </t>
            <t t-esc="(website or res_company).name" />
          </t>
        </t>
      </t>
      <t t-set="x_icon" t-value="'/web/image/website/%s/favicon/' % website.id" />
      <t t-set="head_website">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" t-att-content="main_object and 'website_meta_description' in main_object
                    and main_object.website_meta_description or website_meta_description" />
        <meta name="keywords" t-att-content="main_object and 'website_meta_keywords' in main_object
                    and main_object.website_meta_keywords or website_meta_keywords" />
        <meta name="generator" content="Odoo" />
        <!-- OpenGraph tags for Facebook sharing -->
        <meta property="og:title" t-att-content="additional_title" />
        <meta property="og:site_name" t-att-content="res_company.name" />
        <t t-if="main_object and 'plain_content' in main_object and main_object.plain_content">
          <t t-set="og_description" t-value="main_object.plain_content[0:500]" />
          <meta property="og:description" t-att-content="og_description" />
          <meta property="og:image" t-att-content="request.httprequest.url_root+'logo.png'" />
          <meta property="og:url" t-att-content="request.httprequest.url_root+request.httprequest.path[1:end]" />
        </t>
        <t t-set="languages" t-value="website.get_languages() if website else None" />
        <t t-if="request and request.website_multilang and website">
          <t t-foreach="website.get_alternate_languages(request.httprequest)" t-as="lg">
            <link rel="alternate" t-att-hreflang="lg['hreflang']" t-att-href="lg['href']" />
          </t>
        </t>
        <script type="text/javascript">
          odoo.session_info = {
          is_superuser:
          <t t-esc="json.dumps(request.env.user._is_superuser())" />
          ,
          is_frontend: true,
          };
        </script>
        <t t-call-assets="web.assets_common" t-js="false" />
        <t t-call-assets="web.assets_frontend" t-js="false" />
        <t t-call-assets="web_editor.summernote" t-js="false" groups="website.group_website_publisher" />
        <t t-call-assets="web_editor.assets_editor" t-js="false" groups="website.group_website_publisher" />
        <t t-call-assets="website.assets_editor" t-js="false" groups="website.group_website_publisher" />
        <t t-call-assets="web.assets_common" t-css="false" />
        <t t-call-assets="web.assets_frontend" t-css="false" />
        <t t-call-assets="web_editor.summernote" t-css="false" groups="website.group_website_publisher" />
        <t t-call-assets="web_editor.assets_editor" t-css="false" groups="website.group_website_publisher" />
        <t t-call-assets="website.assets_editor" t-css="false" groups="website.group_website_publisher" />
      </t>
      <t t-set="head" t-value="head_website + (head or '')" />
      <t t-if="edit">
        <nav groups="base.group_user" t-if="website and menu_data" id="oe_main_menu_navbar" class="o_main_navbar">
          <ul id="oe_applications">
            <li class="dropdown active">
              <a class="dropdown full" data-toggle="dropdown" href="#">
                <i class="fa fa-th-large" />
                WEBSITE
                <b class="caret" />
              </a>
              <ul class="dropdown-menu">
                <li t-as="menu" t-foreach="menu_data['children']">
                  <t t-set="debug_param" t-value="'?&amp;debug=' if debug else ''" />
                  <a t-att-class="'oe_menu_toggler' if menu.get('children') else 'oe_menu_leaf'" t-att-data-action-id="menu['action'] and menu['action'].split(',')[1] or None" t-att-data-action-model="menu['action'] and menu['action'].split(',')[0] or None" t-att-data-menu="menu['id']" t-att-href="'/web%s#menu_id=%s&amp;action=%s' % (debug_param, menu['id'], menu['action'] and menu['action'].split(',')[1] or '')">
                    <i t-attf-class="fa #{menu.get('icon')} fa-lg fa-fw" t-if="menu.get('icon')" />
                    <span class="oe_menu_text">
                      <t t-esc="menu['name']" />
                    </span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
          <button type="button" class="fa fa-bars pull-right visible-xs-block o_mobile_menu_toggle" />
          <div class="o_menu_brand">Website</div>
          <ul class="o_menu_sections" groups="website.group_website_designer">
            <!-- Content -->
            <li class="dropdown content" t-if="editable">
              <a id="content-menu-button" class="dropdown-toggle waves" data-toggle="dropdown" href="#">Content</a>
              <ul class="dropdown-menu oe_content_menu" role="menu">
                <li>
                  <a data-action="edit_menu" href="#" title="Edit Top Menu">Edit Menu</a>
                </li>
                <li t-if="deletable" role="separator" class="divider" />
                <li t-if="deletable">
                  <a href="#" data-action="rename_page">Rename Page</a>
                </li>
                <li t-if="deletable">
                  <a href="#" data-action="delete_page">Delete Page</a>
                </li>
              </ul>
            </li>
            <!-- Customize -->
            <li class="dropdown" id="customize-menu">
              <a class="dropdown-toggle waves" data-toggle="dropdown" href="#" id="customize-menu-button">Customize</a>
              <ul class="dropdown-menu" role="menu">
                <li id="html_editor">
                  <a data-action="ace" href="#advanced-view-editor">HTML Editor</a>
                </li>
                <li id="theme_customize">
                  <a href="#">Customize Theme</a>
                </li>
                <li id="install_apps">
                  <a href="/web#return_label=Website&amp;action=website.action_module_website">Install Apps</a>
                </li>
                <li class="divider" />
              </ul>
            </li>
            <!-- Promote -->
            <li class="dropdown">
              <a class="dropdown-toggle waves" data-toggle="dropdown" href="#" id="promote-menu-button">Promote</a>
              <ul class="dropdown-menu oe_promote_menu" role="menu">
                <li>
                  <a data-action="promote-current-page" href="#" title="Promote page on the web">Optimize SEO</a>
                </li>
              </ul>
            </li>
          </ul>
          <ul class="o_menu_systray hidden-xs" groups="website.group_website_publisher">
            <!-- Mobile preview -->
            <li class="o_mobile_preview">
              <a data-action="show-mobile-preview" href="#">
                <span title="Mobile preview" class="fa fa-mobile" />
              </a>
            </li>
            <!-- Page Edition -->
            <li>
              <a data-action="new_page" href="#" data-toggle="modal" data-target="#o_website_add_page_modal">
                <span class="fa fa-plus" />
                New
              </a>
            </li>
            <li t-if="not translatable">
              <a data-action="edit" href="#">
                <span class="fa fa-pencil" />
                Edit
              </a>
            </li>
            <li t-if="translatable">
              <a data-action="translate" href="#">TRANSLATE</a>
            </li>
            <li t-if="translatable">
              <a data-action="edit_master" href="#">or Edit Master</a>
            </li>
          </ul>
        </nav>
      </t>
      <div id="wrapwrap" t-att-class="pageName or ''">
        <header>
          <!--
               <div class="navbar navbar-default navbar-static-top">
               <div class="container">
               <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
               <a class="navbar-brand" href="/" t-if="website" t-field="website.name">My Website</a>
               </div>
               <div class="collapse navbar-collapse navbar-top-collapse">
               <ul class="nav navbar-nav navbar-right" id="top_menu">
               <t t-foreach="website.menu_id.child_id" t-as="submenu">
               <t t-call="website.submenu"/>
               </t>
               <li class="divider" t-ignore="true" t-if="website.user_id != user_id"/>
               <li class="dropdown" t-ignore="true" t-if="website.user_id != user_id">
               <a href="#" class="dropdown-toggle" data-toggle="dropdown">
               <b>
               <span t-esc="(len(user_id.name)&gt;25) and (user_id.name[:23]+'...') or user_id.name"/>
               <span class="caret"></span>
               </b>
               </a>
               <ul class="dropdown-menu js_usermenu" role="menu">
               <li id="o_logout"><a t-attf-href="/web/session/logout?redirect=/" role="menuitem">Logout</a></li>
               </ul>
               </li>
               </ul>
               </div>
               </div>
               </div>
          -->
        </header>
        <!-- // ## HEADER -->
        <main>
          <t t-raw="0" />
        </main>
        <!--
             <footer>
             <div id="footer">
             </div>
             </footer>
        -->
      </div>
      <div groups="website.group_website_publisher" class="modal" id="o_website_add_page_modal">
        <div class="modal-dialog modal-lg">
          <ul>
            <li groups="website.group_website_designer">
              <a href="#" data-action="new_page">
                <i class="fa fa-file-o" />
                <p>New Page</p>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <script id="tracking_code" t-if="website and website.google_analytics_key and not editable">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        
        ga('create', _.str.trim('
        <t t-esc="website.google_analytics_key" />
        '), 'auto');
        ga('send','pageview');
      </script>
    </t>
    <!-- // EDN OF TEMPLATE ::  <template id="layout" name="Signage Main layout"> -->
  </template>
</odoo>
